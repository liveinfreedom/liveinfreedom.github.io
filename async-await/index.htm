<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Async-await + axios</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script>
        async function fetchList() {
            console.log('photos...');
            try {
                const response = await axios.get('https://jsonplaceholder.typicode.com/photos');
                console.log('photos', response.data);
            } catch (error) {
                console.error('photos', error);
                return;
            }

            console.log('comments...');
            try {
                const response = await axios.get('https://jsonplaceholder.typicode.com/comments');
                console.log('comments', response.data);
            } catch (error) {
                console.error('comments', error);
                return;
            }

            console.log('users...');
            try {
                const response = await axios.get('https://jsonplaceholder.typicode.com/users');
                console.log('users', response.data);
            } catch (error) {
                console.error('users',error);
                return;
            }

            console.log('todos...');
            try {
                const response = await axios.get('https://jsonplaceholder.typicode.com/todos');
                console.log('todos', response.data);
            } catch (error) {
                console.error('todos',error);
            }
        }

        function getPhotos() {
            try {
                return axios.get('https://jsonplaceholder.typicode.com/photos');
            } catch (error) {
                return error;
            }
        }

        function getUsers() {
            try {
                return axios.get('https://jsonplaceholder.typicode.com/users');
            } catch (error) {
                return error;
            }
        }

        async function getPhotosAndUsers(){
            console.log('photos...');
            let photosResponse = await getPhotos();
            console.log('photos:', photosResponse.data);
            console.log('users...');
            let usersResponse = await getUsers();
            console.log('users:', usersResponse.data);
        }

        async function returnPhotosData(){
            console.log('returnPhotosData...')
            let response = await getPhotos()
            return response.data
        }

        // console.log('start...');
        // async function asyncOperations() {
        //     await new Promise((resolve, reject) => setTimeout(()=>{
        //         console.log('after 3000...');
        //         resolve()
        //     }, 3000));
        //     console.log('between 3000 and 5000...');
        //     await new Promise((resolve, reject) => setTimeout(()=>{
        //         console.log('after 5000...');
        //         resolve()
        //     }, 2000));
        //     console.log('end');
        // }
        //asyncOperations();
    </script>

</head>
<body class="container">

<h1>Async-await + axios</h1>
<button onclick="fetchList()">fetchList()</button>
<br>
<button onclick="getPhotosAndUsers()">getPhotosAndUsers()</button>

</body>
</html>